@using Integratieproject1.Domain.Projects
@model Integratieproject1.Domain.Datatypes.Position

@{
    ViewBag.Title = "Voeg Locatie Toe";
}

<div>
    <form class="" asp-controller="Project" asp-action="AddPosition" asp-route-ideaId="@ViewBag.IdeaId" method="post">
        @*<div class="form-row">
            <div class="col-3 text-center">
                <input class="form-control" id="autocomplete" oninput="inputAutocomplete()"/>
            </div>
            <div class="col-3 text-center">
                <input class="form-control" required asp-for="Lat" id="lat"/>
            </div>
            <div class="col-3 text-center">
                <input class="form-control" required asp-for="Lng" id="lng"/>
            </div>
            <div class="col-3 text-center">
                <input class="btn btn-primary btn-sm" type="submit" value="Locatie Toevoegen">
            </div>
        </div>*@
        <div class="input-group">
            <input class="form-control" id="autocompleteAdd" @*oninput="inputAutocomplete()"*@/>
            <input class="form-control" required asp-for="Lat" id="lat"/>
            <input class="form-control" required asp-for="Lng" id="lng"/>
            <div class="input-group-append">
                <input class="btn btn-primary btn-sm" type="submit" value="Locatie Toevoegen">
            </div>
        </div>  
    </form>
</div>
<script>

    function initAddAutocomplete() {
        var autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocompleteAdd'));
        autocomplete.setComponentRestrictions({'country': 'be'});
        google.maps.event.addListener(autocomplete,
            'place_changed',
            function() {
                var place = autocomplete.getPlace();
                var lat = place.geometry.location.lat();
                var lng = place.geometry.location.lng();
                document.getElementById('lat').value = lat;
                document.getElementById('lng').value = lng;
            });
        
    }
</script>



