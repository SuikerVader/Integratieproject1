@using Integratieproject1.Domain.Ideations
@using Microsoft.AspNetCore.Identity
@model Integratieproject1.Domain.Ideations.Idea

@{
    ViewBag.Title = "ideaPage";
    ViewBag.Id = Model.IdeaId;
    ViewBag.Element = "idea";
    Layout = "/UI/Views/Shared/_Layout.cshtml";
}
<div class="container">

    <h2>@Model.Title</h2>
    <p>votes: @Model.Votes.Count</p>
    <p>number of reactions: @Model.Reactions.Count</p>

    @*<a asp-area="" asp-controller="Project"
   asp-action="CreateVote" asp-route-votType="@VoteType.VOTE" asp-route-ideaId="@Model.IdeaId"><button>vote</button>
</a><br/>*@

    <form asp-controller="Project" asp-action="CreateUserVote" asp-route-voteType="@VoteType.VOTE" asp-route-ideaId="@Model.IdeaId">
        <select name="user">
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
        <input type="submit" value="user vote">
    </form><br/>
    <form class="facebookShare" asp-controller="Project" asp-action="CreateUserVote" asp-route-voteType="@VoteType.SHARE_FB" asp-route-ideaId="@Model.IdeaId">
        <select name="user">
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
        <div class="facebook"
             data-href="https://developers.facebook.com/docs/plugins/"
             data-layout="button">
            <button class="btn btn-facebook btn-lg "

                    type="submit"
                    onclick="share_fb('https://developers.facebook.com/docs/plugins/')">
                Share
            </button>
        </div>
    </form>
    <form class="TwitterShare" asp-controller="Project" asp-action="CreateUserVote" asp-route-voteType="@VoteType.SHARE_TW" asp-route-ideaId="@Model.IdeaId">
        <select name="user">
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
        <div class="twitter">
            <button type="submit"
                    onclick="share_tw()"
                    class="btn btn-twitter btn-lg">
                Tweet
            </button>
        </div>
    </form>

    <button onclick="showHideCreateReaction()">react</button>
    <div id="reaction" style="display: none">
        @await Html.PartialAsync("_PostReactionPartial.cshtml", new Reaction())
    </div><br/>
    <h3>reactions: </h3>
    @foreach (var reaction in Model.Reactions)
    {
        <strong>@reaction.IdentityUser.UserName</strong>
        <p></p>
        <p>@reaction.ReactionText</p>
        <p>total likes: @reaction.Likes.Count</p>
        <br/>
        <form asp-controller="Project" asp-action="LikeReaction" asp-route-ideaId="@Model.IdeaId" asp-route-reactionId="@reaction.ReactionId">

            <select name="user">
                <option value="1">1</option>
                <option value="2">2</option>
            </select>
            <input type="submit" value="like reactie">         
        </form>
        <a asp-area="" asp-controller="Project"
           asp-action="ReportPost" asp-route-id="@reaction.ReactionId" asp-route-type="reaction">
            <i class="fa fa-flag"></i>
        </a>
        <br/>
    }
    <a asp-area="" asp-controller="Project"
       asp-action="ReportPost" asp-route-id="@Model.IdeaId" asp-route-type="idea">
        <i class="fa fa-flag">idea</i>
    </a>
</div>
<div class="bd-example">
    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/images/uploads/soccer-player logo .jpg" style="max-width: 100%" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>First slide label</h5>
                    <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/images/uploads/voetbal.jpg" style="max-width: 100%" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Second slide label</h5>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/images/uploads/profo.jpg" style="max-width: 100%" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Third slide label</h5>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<script>
    function showHideCreateReaction() {
        var x = document.getElementById('reaction');
        if (x.style.display === 'none') {
            x.style.display = 'inline-block';
        } else {
            x.style.display = 'none';
        }
    }

    function share_fb(url) {
        window.open('https://www.facebook.com/sharer/sharer.php?u=' + url,
            'facebook-share-dialog',
            "width=626, height=436");
    }

    function share_tw() {
        window.open("https://twitter.com/share?ref_src=twsrc%5Etfw",
            'twitter-share-dialog',
            "width=626, height=436");
    }
</script>
<script
    async defer crossorigin="anonymous"
    src="https://connect.facebook.net/nl_NL/sdk.js#xfbml=1&version=v3.2">
</script>
<script
    async src="https://platform.twitter.com/widgets.js"
    charset="utf-8">
</script>