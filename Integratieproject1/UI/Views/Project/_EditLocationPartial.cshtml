@using Integratieproject1.Domain.Projects
@model Integratieproject1.Domain.Datatypes.Position

@{
    ViewBag.Title = "Wijzig Locatie";
}

<div>
    <form class="" asp-controller="Project" asp-action="EditPosition" asp-route-positionId="@Model.PositionId" asp-route-ideaId="@ViewBag.IdeaId" method="post">
        <div class="form-row">
            <div class="col-3 text-center">
                <input class="form-control" id="autocomplete" oninput="inputAutocomplete()"/>
            </div>
            <div class="col-3 text-center">
                <input class="form-control" required placeholder="Breedtegraad" asp-for="Lat" id="lat"/>
            </div>
            <div class="col-3 text-center">
                <input class="form-control" required placeholder="Lengtegraad" asp-for="Lng" id="lng"/>
            </div>
            <div class="col-3 text-center">
                <input class="btn btn-primary" type="submit" value="Locatie wijzigen">
                <a class="btn btn-danger btn-sm" asp-area="" asp-controller="Project"
                   asp-action="DeletePosition" asp-route-positionId="@Model.PositionId" asp-route-ideaId="@ViewBag.IdeaId">
                    Verwijder locatie
                </a>
            </div>
            
        </div>
    </form>
</div>
<script>
    /*
 
    function inputAutocomplete(){
        var prefix = 'Antwerpen, ';
        var str = event.target.value;
        if(str.indexOf(prefix) == 0) {
            // string already started with prefix
            return;
        } else {
            if (prefix.indexOf(str) >= 0) {
                // string is part of prefix
                event.target.value = prefix;
            } else {
                event.target.value = prefix+str;
            }
        }
    };  */
    function initAutocomplete() {
        var autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'));
        autocomplete.setComponentRestrictions({'country': 'be'});
        google.maps.event.addListener(autocomplete,
            'place_changed',
            function() {
                var place = autocomplete.getPlace();
                var lat = place.geometry.location.lat();
                var lng = place.geometry.location.lng();
                document.getElementById('lat').value = lat;
                document.getElementById('lng').value = lng;
            });
        
    }
</script>




